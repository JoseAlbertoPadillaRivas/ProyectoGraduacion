@{
    ViewBag.Title = "Descargar Documentos";
}

<h2 class="historial-header">Descargar Documentos Médicos</h2>

<div class="historial-docs">
    <div class="doc-item text-center">
        <i class="fas fa-file-alt fa-4x"></i>
        <p>Radiografía del 01/08/2024</p>
        <a href="@Url.Action("DescargarDocumento", "Historial", new { id = 1 })" class="btn btn-secondary descargar-btn">Descargar</a>
        <a href="#" class="btn btn-danger eliminar-btn">Eliminar</a>
    </div>
    <div class="doc-item text-center">
        <i class="fas fa-file-alt fa-4x"></i>
        <p>Radiografía del 01/08/2024</p>
        <a href="@Url.Action("DescargarDocumento", "Historial", new { id = 2 })" class="btn btn-secondary descargar-btn">Descargar</a>
        <a href="#" class="btn btn-danger eliminar-btn">Eliminar</a>
    </div>
    <div class="doc-item text-center">
        <i class="fas fa-file-alt fa-4x"></i>
        <p>Radiografía del 01/08/2024</p>
        <a href="@Url.Action("DescargarDocumento", "Historial", new { id = 3 })" class="btn btn-secondary descargar-btn">Descargar</a>
        <a href="#" class="btn btn-danger eliminar-btn">Eliminar</a>
    </div>
</div>

<div class="historial-section text-center">
    <a href="@Url.Action("IndexHistorial", "Historial")" class="btn btn-info">Regresar al Historial</a>
</div>

<script>
    document.querySelectorAll('.descargar-btn').forEach(function (btn) {
        btn.addEventListener('click', function (event) {
            event.preventDefault();

            Swal.fire({
                title: '¿Descargar el archivo?',
                text: 'Confirme si desea descargar este archivo.',
                icon: 'question',
                showCancelButton: true,
                confirmButtonText: 'Descargar',
                cancelButtonText: 'X'
            }).then((result) => {
                if (result.isConfirmed) {
                    Swal.fire(
                        'Archivo Descargado',
                        'El archivo se ha descargado con éxito.',
                        'success'
                    );
                }
            });
        });
    });

    document.querySelectorAll('.eliminar-btn').forEach(function (btn) {
        btn.addEventListener('click', function (event) {
            event.preventDefault();

            Swal.fire({
                title: '¿Eliminar el archivo?',
                text: 'Esta acción no se puede deshacer. Confirme si desea eliminar este archivo.',
                icon: 'warning',
                showCancelButton: true,
                confirmButtonColor: '#d33',
                cancelButtonColor: '#3085d6',
                confirmButtonText: 'Eliminar',
                cancelButtonText: 'Cancelar'
            }).then((result) => {
                if (result.isConfirmed) {
                    Swal.fire(
                        'Archivo Eliminado',
                        'El archivo ha sido eliminado con éxito.',
                        'success'
                    );
                }
            });
        });
    });
</script>
